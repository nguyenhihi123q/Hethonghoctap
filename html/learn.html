<!doctype html>
<html lang="vi">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>H·ªçc t·∫≠p ‚Ä¢ HITS</title>

    <!-- Styles -->
    <link rel="stylesheet" href="/css/learn.css" />
    <link href="https://cdn.jsdelivr.net/npm/@n8n/chat/dist/style.css" rel="stylesheet" />
    <link href="chat-widget.css" rel="stylesheet" />
  </head>

  <body>
    <div class="layout">
      <!-- ===== Sidebar ===== -->
      <aside class="sidebar">
        <div class="brand">
          <div class="logo"><img src="/Images/logo-hits.png" alt="HITS" style="width:100%;height:100%;object-fit:contain;border-radius:8px" /></div>
          <h1>HITS ‚Ä¢ H·ªçc t·∫≠p</h1>
        </div>
        <nav class="snav">
          <a class="active" href="/html/learn.html">T·ªïng quan</a>
          <a href="#my-courses">Kh√≥a h·ªçc c·ªßa t√¥i</a>
          <a href="#schedule">L·ªãch h·ªçc</a>
          <a href="#achievements">Th√†nh t√≠ch</a>
          <div class="sep"></div>
          <a href="/html/dashboard.html">T√†i kho·∫£n</a>
          <a href="/html/khoahoc.html">Kh√≥a h·ªçc</a>
          <a href="/html/index.html">Trang ch·ªß</a>
          <a href="/html/results.html">L·ªô Tr√¨nh</a>
        </nav>
      </aside>

      <!-- ===== Main ===== -->
      <main class="main">
        <!-- Topbar -->
        <div class="topbar">
          <div class="search">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none"><path d="M21 21l-4.3-4.3M10.5 18a7.5 7.5 0 1 1 0-15 7.5 7.5 0 0 1 0 15Z" stroke="#64748b" stroke-width="2" stroke-linecap="round"/></svg>
            <input id="search" placeholder="T√¨m kh√≥a h·ªçc, ch·ªß ƒë·ªÅ, k·ªπ nƒÉng..." />
          </div>
          <div class="actions">
            <button class="btn">Kh√°m ph√°</button>
            <button class="btn">Danh m·ª•c</button>
            <div class="user">
              <button id="userBtn" class="user-btn">
                <span id="userName" class="user-name">ƒêang t·∫£i...</span>
                <span id="userAvatar" class="avatar">?</span>
              </button>
              <div id="userMenu" class="menu" hidden>
                <a href="/html/dashboard.html">H·ªì s∆° & t√†i kho·∫£n</a>
                <a href="/html/update-password.html">ƒê·ªïi m·∫≠t kh·∫©u</a>
                <button id="logoutBtn" class="danger">ƒêƒÉng xu·∫•t</button>
              </div>
            </div>
          </div>
        </div>

        <!-- ===== Continue (Python, ·∫£nh local) ===== -->
        <section class="card continue" id="continue" data-course="py-101">
          <div>
            <div class="badge">Ti·∫øp t·ª•c h·ªçc</div>
            <h2 id="contTitle" class="course-title">Python cho Ng∆∞·ªùi M·ªõi</h2>
            <p id="contLesson" class="muted">B√†i 12: H√†m & tham s·ªë</p>
            <div class="progress"><i id="contProg" style="width:68%"></i></div>
            <div class="cta">
              <button id="btnContinue" class="btn brand">Ti·∫øp t·ª•c</button>
              <button class="btn light" onclick="location.hash='#my-courses'">Xem kh√≥a h·ªçc</button>
            </div>
          </div>
          <div id="contCover"
               style="border-radius:12px; overflow:hidden; min-height:180px;
                      background:url('Images/LapTrinhPython.png') center/cover no-repeat;">
          </div>
        </section>

        <div class="grid">
          <!-- My courses -->
          <section id="my-courses" class="card">
            <h3 class="title">Kh√≥a h·ªçc c·ªßa t√¥i</h3>
            <p class="muted">Ti·∫øp t·ª•c h·ªçc d·ªü ho·∫∑c b·∫Øt ƒë·∫ßu b√†i m·ªõi.</p>
            <div id="courses" class="courses"></div>
          </section>

          <!-- Today -->
          <aside class="card">
            <h3 class="title">H√¥m nay</h3>
            <p class="muted">L·ªãch h·ªçc g·ª£i √Ω</p>
            <div class="list" id="schedule">
              <div class="item"><span class="dot"></span><div><b>20:00</b> ‚Ä¢ Luy·ªán t·∫≠p Python (30')</div></div>
              <div class="item"><span class="dot"></span><div><b>20:45</b> ‚Ä¢ √în v√≤ng l·∫∑p & list</div></div>
              <div class="item"><span class="dot"></span><div><b>21:30</b> ‚Ä¢ Quiz Python Ch∆∞∆°ng 2</div></div>
            </div>
            <div class="sep" style="margin:16px 0"></div>
            <h3 class="title">G·ª£i √Ω cho b·∫°n</h3>
            <div id="recs" class="list"></div>
          </aside>
        </div>
      </main>
    </div>

    <!-- === Ch·ªâ d√πng ·∫£nh LOCAL === -->
    <script id="image-config" type="application/json">
{
  "banner": "Images/LapTrinhPython.png",
  "courses": {
    "py-101": "Images/LapTrinhPython.png",
    "js-201": "Images/LapTrinhJava.png",
    "sql-101": "Images/LapTrinhSql.png",
    "algo-101": "Images/CauTrucDuLieuVaGT.png",
    "web-101": "Images/Web Fundamentals.png",
    "ml-101": "Images/Machine Learning.png"
  }
}
</script>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="/js/supabase-client.js"></script>
    <script src="/js/course-catalog.js"></script>
    <script src="/js/learn.js"></script>
    <script>
      // N·∫øu learn.js render ƒë·ªông, block tr√™n v·∫´n d√πng ·∫£nh local t·ª´ image-config.
      requireOnboarded('onboard.html');
    </script>

    <!-- n8n chat -->
    <div id="n8n-chat"></div>
    <script type="module">
      import { createChat } from 'https://cdn.jsdelivr.net/npm/@n8n/chat/dist/chat.bundle.es.js';
      createChat({
        webhookUrl: 'https://automation.ailabviet.com/webhook/f61e1b9f-0f81-46b8-828e-668bfeeeb3eb/chat',
        target: '#n8n-chat',
        mode: 'window',
        loadPreviousSession: true,
        enableStreaming: false,
        showWelcomeScreen: true,
        defaultLanguage: 'vi',
        i18n: {
          vi: {
            title: 'Tr·ª£ l√Ω H·ªçc t·∫≠p HITS',
            subtitle: 'M√¨nh c√≥ th·ªÉ t√¨m t√†i li·ªáu, gi·∫£i th√≠ch b√†i, g·ª£i √Ω l·ªô tr√¨nh.',
            getStarted: 'B·∫Øt ƒë·∫ßu tr√≤ chuy·ªán',
            inputPlaceholder: 'Nh·∫≠p c√¢u h·ªèi c·ªßa b·∫°n...'
          }
        },
        initialMessages: [
          'Xin ch√†o üëã M√¨nh l√† Tr·ª£ l√Ω H·ªçc t·∫≠p HITS.',
          'B·∫°n mu·ªën h·ªèi g√¨ ho·∫∑c t√¨m t√†i li·ªáu n√†o?',
          'B·∫°n c√≥ th·ªÉ cho m√¨nh bi·∫øt t√™n c·ªßa b·∫°n ƒë·ªÉ ti·ªán cho trao ƒë·ªïi kh√¥ng n√®?'
        ],
        metadata: { source: 'learn-page', path: window.location.pathname }
      });
    </script>
  </body>
</html>
