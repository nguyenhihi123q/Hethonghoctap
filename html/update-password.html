<!doctype html>
<html lang="vi">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Đặt lại mật khẩu • HITS</title>
    <style>
      :root{--ink:#0f172a;--muted:#64748b;--line:#e8ecf2;--brand:#2563eb}
      *{box-sizing:border-box}body{margin:0;font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial;color:var(--ink);background:#f7f8fb}
      .wrap{max-width:560px;margin:48px auto;padding:0 16px}
      .card{background:#fff;border:1px solid var(--line);border-radius:14px;padding:20px;box-shadow:0 10px 30px rgba(2,6,23,.05)}
      h1{margin:0 0 8px}p.muted{color:var(--muted);margin:0 0 16px}
      .row{display:grid;gap:10px;margin-top:12px}
      label{font-weight:700;font-size:14px}
      input{width:100%;padding:10px 12px;border:1px solid var(--line);border-radius:10px}
      .btn{padding:10px 14px;border-radius:10px;border:1px solid var(--line);background:#fff;font-weight:800;cursor:pointer}
      .btn.brand{background:linear-gradient(135deg,#2563eb,#7c3aed);color:#fff;border:none}
      .msg{margin-top:12px;font-size:14px}
      .msg.error{color:#b91c1c}.msg.ok{color:#065f46}
      .hint{font-size:12px;color:var(--muted)}
    </style>
  </head>
  <body>
    <div class="wrap">
      <div class="card">
        <h1>Đặt lại mật khẩu</h1>
        <p class="muted">Nhập mật khẩu mới cho tài khoản của bạn.</p>

        <div class="row">
          <label for="password">Mật khẩu mới</label>
          <input id="password" type="password" placeholder="Ít nhất 6 ký tự" minlength="6" required />
        </div>
        <div class="row">
          <label for="password2">Nhập lại mật khẩu</label>
          <input id="password2" type="password" placeholder="Nhập lại để xác nhận" minlength="6" required />
        </div>
        <div class="row">
          <button id="btnSubmit" class="btn brand">Cập nhật mật khẩu</button>
        </div>
        <div id="msg" class="msg"></div>
        <p class="hint">Nếu bạn mở trang này từ email khôi phục của Supabase, mã phiên sẽ tự được thiết lập.</p>
      </div>
    </div>

    <!-- Supabase SDK + client config (client config file của bạn phải ở cùng thư mục) -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="/js/supabase-client.js"></script>
    <script src="/js/update-password.js"></script>
  </body>
</html>
